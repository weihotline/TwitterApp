- action_url = (new_user ? users_url : session_url)
- button_label = (new_user ? "Sign up Â»" : "Log in Â»")

.container
  = render "shared/error"
  %form{ :action => "#{action_url}", :method => "POST" }
    %fieldset
      %input{ :type => "hidden",
              :name => "authenticity_token",
              :value => "#{form_authenticity_token}" }
      %input{ :type => "text",
              :placeholder => "Email",
              :name => "user[email]",
              :value => "#{@user.email}" }
      %input{ :type => "password",
              :placeholder => "Password",
              :name => "user[password]" }
      = input_for("#{@user.username}") if new_user
      %button{ :type => "submit" }="#{button_label}"
  = button_to("Sign up Â»", new_user_url, :method => :get) unless new_user
